# MindTrack — Frontend (React + Vite)

A focused, privacy-first wellness and habit-tracking Single Page Application that helps users build consistent daily routines with simple check-ins, calendar streaks, and motivational messaging powered by AI.

This is the **frontend** portion of MindTrack built with React and Vite. The backend API lives in `./backend` (see `backend/README.md`).

---

## Table of Contents

1. [About](#about)
2. [Features](#features)
3. [Tech Stack](#tech-stack)
4. [Prerequisites](#prerequisites)
5. [Getting Started](#getting-started)
6. [Environment Variables](#environment-variables)
7. [Available Scripts](#available-scripts)
8. [Project Structure](#project-structure)
9. [Core Components](#core-components)
10. [Pages](#pages)
11. [Authentication](#authentication)
12. [Styling](#styling)
13. [Development Workflow](#development-workflow)
14. [Testing & Linting](#testing--linting)
15. [Build & Deployment](#build--deployment)
16. [Troubleshooting](#troubleshooting)
17. [Contributing](#contributing)

---

## About

MindTrack is a modern wellness and habit tracker that helps users:
- Track daily habits with customizable emojis and descriptions
- View progress on an interactive calendar with streak visualization
- Receive personalized AI-generated motivational quotes based on recent habit performance
- Manage authentication securely with Firebase
- Experience a responsive, mobile-friendly interface

The frontend is built as a Single Page Application (SPA) that communicates with a Firebase-backed Express API for authentication and data persistence.

---

## Features

### Current Features
- **User Authentication**: Secure login and registration via Firebase Auth
- **Habit Management**: Create, edit, and delete custom habits with emojis
- **Daily Check-ins**: Quick toggle-style habit completion tracking
- **Calendar View**: Monthly heatmap showing habit completion patterns
- **Streak Tracking**: Visual representation of current and longest streaks
- **AI-Powered Quotes**: Personalized motivational messages generated by Google Gemini AI
- **Responsive Design**: Mobile-first interface built with Tailwind CSS
- **Protected Routes**: Secure pages requiring authentication

### Planned Features
- Analytics dashboard with trends and insights
- Habit reminders and notifications
- Social sharing and friend connections
- PWA support for offline functionality

---

## Tech Stack

- **Framework**: [React](https://react.dev/) 19.1.1
- **Build Tool**: [Vite](https://vite.dev/) 7.1.7
- **Routing**: [React Router](https://reactrouter.com/) 7.9.4
- **Styling**: [Tailwind CSS](https://tailwindcss.com/) 4.1.16
- **Date Utilities**: [date-fns](https://date-fns.org/) 4.1.0
- **AI Integration**: [Google Generative AI](https://ai.google.dev/) 0.21.0
- **Authentication**: Firebase Auth (via backend)
- **Linting**: ESLint with React hooks & React Refresh plugins

---

## Prerequisites

- **Node.js** 18+ (recommended: v18 or v20)
- **npm** (or yarn/pnpm)
- **Backend API**: The backend must be running (see `backend/README.md`)
- **Firebase Project**: For authentication services
- **Google Gemini API Key**: For AI-powered quotes (optional)

---

## Getting Started

### 1. Clone the Repository

```powershell
git clone <repo-url>
cd d:\masai
```

### 2. Install Dependencies

```powershell
npm install
```

### 3. Set Up Environment Variables

Create a `.env` file in the project root:

```powershell
copy .env.example .env
```

Edit `.env` with your configuration:

```env
VITE_BACKEND_URL=http://localhost:5000
VITE_GEMINI_API_KEY=your_gemini_api_key_here
```

### 4. Start Development Server

**Frontend only:**
```powershell
npm run dev
```

**Frontend + Backend together:**
```powershell
npm run dev:all
```

The app will be available at `http://localhost:5173`

---

## Environment Variables

Create a `.env` or `.env.local` file in the project root:

| Variable | Description | Required |
|----------|-------------|----------|
| `VITE_BACKEND_URL` | Backend API base URL (e.g., `http://localhost:5000`) | Yes |
| `VITE_GEMINI_API_KEY` | Google Gemini API key for AI quotes | Optional |

**Note**: All client-side environment variables must be prefixed with `VITE_` to be accessible in the frontend.

---

## Available Scripts

| Script | Description |
|--------|-------------|
| `npm run dev` | Start Vite dev server (frontend only) |
| `npm run dev:web` | Alias for `npm run dev` |
| `npm run dev:server` | Start backend server from `./backend` |
| `npm run dev:all` | Run both frontend and backend concurrently |
| `npm run build` | Build production-ready static files |
| `npm run preview` | Preview production build locally |
| `npm run lint` | Run ESLint on the codebase |

---

## Project Structure

```
d:\masai/
├── backend/              # Express API server
│   ├── index.js         # Main server file
│   └── package.json     # Backend dependencies
├── public/              # Static assets
├── src/
│   ├── App.jsx          # Main app component with routes
│   ├── main.jsx         # Application entry point
│   ├── index.css        # Global styles
│   ├── assets/          # Images, fonts, etc.
│   ├── components/      # Reusable React components
│   │   ├── Layout.jsx            # Main app layout with sidebar
│   │   ├── NewHabitModal.jsx     # Modal for creating habits
│   │   ├── PersonalQuote.jsx     # AI-generated quote component
│   │   └── ProtectedRoute.jsx    # Route wrapper for auth
│   ├── contexts/
│   │   └── AuthContext.jsx       # Global auth state management
│   ├── pages/           # Route-level page components
│   │   ├── Dashboard.jsx         # Main dashboard with habit list
│   │   ├── Calendar.jsx          # Monthly calendar view
│   │   ├── Habits.jsx            # Habit management page
│   │   ├── Login.jsx             # Login form
│   │   └── Register.jsx          # Registration form
│   └── utils/
│       └── api.js        # Centralized API call functions
├── index.html           # HTML entry point
├── vite.config.js       # Vite configuration
├── eslint.config.js     # ESLint configuration
├── package.json         # Frontend dependencies
└── README.md           # This file
```

---

## Core Components

### `Layout.jsx`
Main application layout component featuring:
- Responsive sidebar navigation with mobile toggle
- Navigation links (Dashboard, Calendar, Habits)
- User profile section with logout functionality
- Smooth transitions and modern UI design

### `NewHabitModal.jsx`
Interactive modal for creating new habits:
- Emoji selector with 15+ predefined options
- Form fields for title, description, frequency
- Real-time validation
- Success animation on habit creation
- Integration with backend API

### `PersonalQuote.jsx`
AI-powered motivational quote generator:
- Fetches user's recent habit check-in data
- Generates personalized quotes using Google Gemini AI
- Caches quotes locally (one per day per user)
- Displays loading states and handles errors gracefully
- Shows refresh button for regenerating quotes

### `ProtectedRoute.jsx`
Authentication wrapper component:
- Checks user authentication state
- Shows loading spinner during auth check
- Redirects unauthenticated users to login
- Wraps protected pages (Dashboard, Calendar, Habits)

---

## Pages

### `Dashboard.jsx`
Main landing page after login featuring:
- Welcome message with user's display name
- Today's habit checklist with quick toggle buttons
- AI-generated personalized quote
- Habit completion statistics
- Quick access to create new habits

### `Calendar.jsx`
Monthly calendar view showing:
- Heatmap visualization of habit completions
- Day-by-day habit tracking
- Current streak and longest streak display
- Navigation between months
- Visual indicators for completed vs incomplete days

### `Habits.jsx`
Comprehensive habit management page:
- List of all user habits
- Edit and delete functionality
- Habit details (frequency, description)
- Create new habit button
- Empty state for new users

### `Login.jsx`
User authentication page:
- Email and password form
- Firebase authentication integration
- Error handling with user-friendly messages
- Link to registration page
- Remember me functionality (optional)

### `Register.jsx`
New user registration page:
- Create account form (email, password, display name)
- Firebase user creation
- Form validation
- Error handling
- Automatic redirect to dashboard on success

---

## Authentication

Authentication is handled through a combination of:

1. **Firebase Auth** (backend integration)
   - User registration and login
   - Token generation and verification
   - Session management

2. **AuthContext** (`src/contexts/AuthContext.jsx`)
   - Global authentication state
   - User object management
   - Login/logout functions
   - Loading states

3. **Protected Routes**
   - Wraps authenticated pages
   - Redirects to login when needed
   - Preserves attempted route for post-login redirect

### Usage Example

```jsx
import { useAuth } from './contexts/AuthContext'

function MyComponent() {
  const { user, isAuthenticated, login, logout } = useAuth()
  
  return (
    <div>
      {isAuthenticated ? (
        <p>Welcome, {user.displayName}!</p>
      ) : (
        <button onClick={() => login(email, password)}>Login</button>
      )}
    </div>
  )
}
```

---

## Styling

### Tailwind CSS
The project uses Tailwind CSS v4 with the Vite plugin for styling:
- Utility-first CSS framework
- Responsive design utilities
- Custom color palette with slate, indigo, and accent colors
- Animation utilities for smooth interactions

### Global Styles
Global CSS is defined in `src/index.css` and includes:
- CSS resets
- Base typography
- Custom animations
- Scrollbar styling

### Theme
- **Primary Colors**: Indigo (600, 700)
- **Backgrounds**: Slate (50, 100, 900)
- **Accents**: Emerald, Amber, Rose
- **Typography**: System font stack for optimal performance

---

## Development Workflow

### Running Frontend & Backend Together

For full-stack development:

```powershell
npm run dev:all
```

This uses `concurrently` to run:
- Backend server on `http://localhost:5000`
- Frontend dev server on `http://localhost:5173`

### Making API Calls

All API interactions are centralized in `src/utils/api.js`:

```javascript
import { api } from './utils/api'

// Example: Fetch habits
const habits = await api.getHabits()

// Example: Create habit
const newHabit = await api.createHabit({ title, description, emoji })
```

### Hot Module Replacement (HMR)

Vite provides instant HMR for React components. Changes reflect immediately without full page reload.

---

## Testing & Linting

### Linting

Run ESLint to check code quality:

```powershell
npm run lint
```

ESLint is configured with:
- React Hooks rules
- React Refresh rules
- ES6+ best practices

### Testing

Testing framework not yet implemented. Recommended setup:
- **Vitest** for unit tests
- **React Testing Library** for component tests
- **Playwright** or **Cypress** for E2E tests

---

## Build & Deployment

### Build for Production

```powershell
npm run build
```

This creates an optimized build in the `dist/` directory with:
- Minified JavaScript and CSS
- Tree-shaken dependencies
- Optimized assets
- Source maps (optional)

### Preview Production Build

```powershell
npm run preview
```

### Deployment Options

#### Vercel (Recommended for Frontend)
1. Connect your GitHub repository to Vercel
2. Set environment variables in Vercel dashboard
3. Deploy automatically on push to main branch

#### Netlify
1. Build command: `npm run build`
2. Publish directory: `dist`
3. Set environment variables in Netlify dashboard

#### Other Static Hosts
- GitHub Pages
- Cloudflare Pages
- AWS S3 + CloudFront

**Important**: Ensure `VITE_BACKEND_URL` points to your production backend URL.

---

## Troubleshooting

### Frontend can't connect to backend
- Check that `VITE_BACKEND_URL` is set correctly in `.env`
- Verify backend is running on the specified port
- Check CORS settings in backend

### HMR not working
```powershell
# Clear Vite cache
Remove-Item -Recurse -Force node_modules/.vite
npm run dev
```

### Build fails
- Ensure all dependencies are installed: `npm install`
- Check for TypeScript/ESLint errors: `npm run lint`
- Clear cache and retry: `npm cache clean --force`

### Authentication issues
- Verify Firebase configuration in backend
- Check that Firebase service account is properly configured
- Inspect browser console for auth errors

### AI quotes not loading
- Verify `VITE_GEMINI_API_KEY` is set in `.env`
- Check API key validity in Google AI Studio
- Ensure API quota hasn't been exceeded

---

## Contributing

We welcome contributions! Please follow these guidelines:

1. **Fork the repository**
2. **Create a feature branch**: `git checkout -b feature/your-feature-name`
3. **Make your changes**
4. **Run linting**: `npm run lint`
5. **Test your changes** thoroughly
6. **Commit with clear messages**: `git commit -m "Add: new feature description"`
7. **Push to your fork**: `git push origin feature/your-feature-name`
8. **Open a Pull Request**

### Code Style
- Use functional React components with hooks
- Follow ESLint rules
- Use Tailwind utility classes for styling
- Keep components focused and reusable
- Add comments for complex logic

### Commit Message Convention
- `Add:` for new features
- `Fix:` for bug fixes
- `Update:` for changes to existing features
- `Remove:` for deleted features
- `Docs:` for documentation updates

---

## License

MIT License - see LICENSE file for details

---

## Support

For issues, questions, or contributions:
- Open an issue on GitHub
- Check existing issues for solutions
- Review the backend README for API documentation

---

**Built with ❤️ using React, Vite, and Tailwind CSS**
